import{g as pt,S as Je,D as se,s as Be,a as mt,u as Y,L as le,b as Ye,c as xe,d as Ve,i as ge,e as _t,r as vt,f as ve,h as Ne}from"./index-BXEk6jaj.js";import{at as ht,V as gt,r as F,w as Ze,c as P,R as Ae,v as z,x as V,B as L,M as h,J as M,G as O,ae as G,K as x,U as Qe,av as bt,u as n,L as be,y as v,H,aa as ee,aw as Se,ax as Ce,P as q,O as he,a2 as Q,I as K,k as fe,h as ye,ay as yt,az as et,a0 as tt,j as nt,g as wt,Q as ot,s as kt,ab as _e,aA as ie,z as we,ad as xt,aB as St,n as Ct,S as Ee,T as $e}from"./vue-BZjjLoal.js";import{d as de,e as Et,f as $t,h as Tt,i as pe,j as Mt,k as Lt,l as st,n as It,o as Rt,p as Vt,q as At,r as at,s as Dt,t as me,u as Pt,E as ke,v as Ot,w as Te,x as rt,y as lt,z as it,A as zt,B as Ft,C as Bt,D as Nt,F as Wt,G as Ut,H as qt,I as Ht,J as jt,K as Xt,L as Kt,M as Gt,N as Jt,O as Yt,g as Zt,P as Qt,Q as en,R as tn,S as nn,T as on,U as sn}from"./element-D35E9C9I.js";import{_ as B}from"./el-button-CJSPZsu0.js";import{_ as an}from"./index.vue_vue_type_script_setup_true_lang-BKu2G6qv.js";/* empty css                 *//* empty css                   */import"./vxe-C97jWTcD.js";function rn(p){p?Be(mt):Be(Je)}const ce=ht("app",()=>{const p=gt({opened:pt()!==Je,withoutAnimation:!1}),a=F(se.Desktop);return Ze(()=>p.opened,e=>{rn(e)}),{device:a,sidebar:p,toggleSidebar:e=>{p.opened=!p.opened,p.withoutAnimation=e},closeSidebar:e=>{p.opened=!1,p.withoutAnimation=e},toggleDevice:e=>{a.value=e}}}),ct=ce(),ln=P(()=>ct.device===se.Mobile),cn=P(()=>ct.device===se.Desktop);function ue(){return{isMobile:ln,isDesktop:cn}}const Me=Y(),un=P(()=>Me.layoutMode===le.Left),dn=P(()=>Me.layoutMode===le.Top),fn=P(()=>Me.layoutMode===le.LeftTop);function pn(p){Me.layoutMode=p}function ae(){return{isLeft:un,isTop:dn,isLeftTop:fn,setLayoutMode:pn}}const mn={defense:!0,color:"#c0c4cc",opacity:.5,size:16,family:"serif",angle:-20,width:300,height:200},We=F(document.body);function _n(p=We){let a,_,c=null;const s={watermarkElMutationObserver:void 0,parentElMutationObserver:void 0,parentElResizeObserver:void 0},e=(m,E={})=>{if(!p.value)return console.warn("请在 DOM 挂载完成后再调用 setWatermark 方法设置水印");a=m,_={...mn,...E},c?o():t(),g(p.value)},t=()=>{const m=p.value.tagName.toLowerCase()===We.value.tagName.toLowerCase(),E=m?"fixed":"absolute",I=m?"":"relative";c=document.createElement("div"),c.style.pointerEvents="none",c.style.top="0",c.style.left="0",c.style.position=E,c.style.zIndex="99999";const{clientWidth:T,clientHeight:N}=p.value;o({width:T,height:N}),p.value.style.position=I,p.value.appendChild(c)},o=(m={})=>{c&&(a&&(c.style.background=`url(${r()}) left top repeat`),m.width&&(c.style.width=`${m.width}px`),m.height&&(c.style.height=`${m.height}px`))},r=()=>{const{color:m,opacity:E,size:I,family:T,angle:N,width:W,height:A}=_,$=document.createElement("canvas");$.width=W,$.height=A;const f=$.getContext("2d");return f&&(f.fillStyle=m,f.globalAlpha=E,f.font=`${I}px ${T}`,f.rotate(Math.PI/180*N),f.fillText(a,0,A/2)),$.toDataURL()},d=()=>{if(!(!p.value||!c)){w();try{p.value.removeChild(c)}catch{console.warn("水印元素已不存在，请重新创建")}finally{c=null}}},l=de(()=>{d(),t(),g(p.value)},100),g=m=>{_.defense?!s.watermarkElMutationObserver&&!s.parentElMutationObserver&&b(m):w("mutation"),s.parentElResizeObserver||k(m)},w=(m="all")=>{var E,I,T;(m==="mutation"||m==="all")&&((E=s.watermarkElMutationObserver)==null||E.disconnect(),s.watermarkElMutationObserver=void 0,(I=s.parentElMutationObserver)==null||I.disconnect(),s.parentElMutationObserver=void 0),(m==="resize"||m==="all")&&((T=s.parentElResizeObserver)==null||T.disconnect(),s.parentElResizeObserver=void 0)},b=m=>{const E=de(I=>{I.forEach(de(T=>{switch(T.type){case"attributes":T.target===c&&l();break;case"childList":T.removedNodes.forEach(N=>{N===c&&m.appendChild(c)});break}},100))},100);s.watermarkElMutationObserver=new MutationObserver(E),s.parentElMutationObserver=new MutationObserver(E),s.watermarkElMutationObserver.observe(c,{attributes:!0,childList:!1,subtree:!1}),s.parentElMutationObserver.observe(m,{attributes:!1,childList:!0,subtree:!1})},k=m=>{const E=de(()=>{const{clientWidth:I,clientHeight:T}=m;o({width:I,height:T})},500);s.parentElResizeObserver=new ResizeObserver(E),s.parentElResizeObserver.observe(m)};return Ae(()=>{d()}),{setWatermark:e,clearWatermark:d}}const vn={class:"app-main"},hn={class:"app-scrollbar"},gn=z({__name:"index",setup(p){const a=Ye(),_=Y();return(c,s)=>{const e=G("router-view"),t=Et;return v(),V("section",vn,[L("div",hn,[h(e,null,{default:x(({Component:o,route:r})=>[h(Qe,{name:"el-fade-in",mode:"out-in"},{default:x(()=>[(v(),M(bt,{include:n(a).cachedViews},[(v(),M(be(o),{key:r.path,class:"app-container-grow"}))],1032,["include"]))]),_:2},1024)]),_:1}),n(_).showFooter?(v(),M(n($n),{key:0})):O("",!0)]),h(t),h(t,{target:".app-scrollbar"})])}}}),De=B(gn,[["__scopeId","data-v-131b72d1"]]);var J={},Ue;function bn(){if(Ue)return J;Ue=1,Object.defineProperty(J,"__esModule",{value:!0}),J.TokenData=void 0,J.parse=g,J.compile=w,J.match=m,J.pathToRegexp=E,J.stringify=W;const p="/",a=f=>f,_=/^[$_\p{ID_Start}]$/u,c=/^[$\u200c\u200d\p{ID_Continue}]$/u,s="https://git.new/pathToRegexpError",e={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function t(f){return f.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function o(f){return f.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*r(f){const i=[...f];let u=0;function C(){let S="";if(_.test(i[++u]))for(S+=i[u];c.test(i[++u]);)S+=i[u];else if(i[u]==='"'){let y=u;for(;u<i.length;){if(i[++u]==='"'){u++,y=0;break}i[u]==="\\"?S+=i[++u]:S+=i[u]}if(y)throw new TypeError(`Unterminated quote at ${y}: ${s}`)}if(!S)throw new TypeError(`Missing parameter name at ${u}: ${s}`);return S}for(;u<i.length;){const S=i[u],y=e[S];if(y)yield{type:y,index:u++,value:S};else if(S==="\\")yield{type:"ESCAPED",index:u++,value:i[u++]};else if(S===":"){const R=C();yield{type:"PARAM",index:u,value:R}}else if(S==="*"){const R=C();yield{type:"WILDCARD",index:u,value:R}}else yield{type:"CHAR",index:u,value:i[u++]}}return{type:"END",index:u,value:""}}class d{constructor(i){this.tokens=i}peek(){if(!this._peek){const i=this.tokens.next();this._peek=i.value}return this._peek}tryConsume(i){const u=this.peek();if(u.type===i)return this._peek=void 0,u.value}consume(i){const u=this.tryConsume(i);if(u!==void 0)return u;const{type:C,index:S}=this.peek();throw new TypeError(`Unexpected ${C} at ${S}, expected ${i}: ${s}`)}text(){let i="",u;for(;u=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)i+=u;return i}}class l{constructor(i){this.tokens=i}}J.TokenData=l;function g(f,i={}){const{encodePath:u=a}=i,C=new d(r(f));function S(R){const D=[];for(;;){const j=C.text();j&&D.push({type:"text",value:u(j)});const X=C.tryConsume("PARAM");if(X){D.push({type:"param",name:X});continue}const re=C.tryConsume("WILDCARD");if(re){D.push({type:"wildcard",name:re});continue}if(C.tryConsume("{")){D.push({type:"group",tokens:S("}")});continue}return C.consume(R),D}}const y=S("END");return new l(y)}function w(f,i={}){const{encode:u=encodeURIComponent,delimiter:C=p}=i,S=f instanceof l?f:g(f,i),y=b(S.tokens,C,u);return function(D={}){const[j,...X]=y(D);if(X.length)throw new TypeError(`Missing parameters: ${X.join(", ")}`);return j}}function b(f,i,u){const C=f.map(S=>k(S,i,u));return S=>{const y=[""];for(const R of C){const[D,...j]=R(S);y[0]+=D,y.push(...j)}return y}}function k(f,i,u){if(f.type==="text")return()=>[f.value];if(f.type==="group"){const S=b(f.tokens,i,u);return y=>{const[R,...D]=S(y);return D.length?[""]:[R]}}const C=u||a;return f.type==="wildcard"&&u!==!1?S=>{const y=S[f.name];if(y==null)return["",f.name];if(!Array.isArray(y)||y.length===0)throw new TypeError(`Expected "${f.name}" to be a non-empty array`);return[y.map((R,D)=>{if(typeof R!="string")throw new TypeError(`Expected "${f.name}/${D}" to be a string`);return C(R)}).join(i)]}:S=>{const y=S[f.name];if(y==null)return["",f.name];if(typeof y!="string")throw new TypeError(`Expected "${f.name}" to be a string`);return[C(y)]}}function m(f,i={}){const{decode:u=decodeURIComponent,delimiter:C=p}=i,{regexp:S,keys:y}=E(f,i),R=y.map(D=>u===!1?a:D.type==="param"?u:j=>j.split(C).map(u));return function(j){const X=S.exec(j);if(!X)return!1;const re=X[0],te=Object.create(null);for(let ne=1;ne<X.length;ne++){if(X[ne]===void 0)continue;const oe=y[ne-1],Le=R[ne-1];te[oe.name]=Le(X[ne])}return{path:re,params:te}}}function E(f,i={}){const{delimiter:u=p,end:C=!0,sensitive:S=!1,trailing:y=!0}=i,R=[],D=[],j=S?"":"i",re=(Array.isArray(f)?f:[f]).map(oe=>oe instanceof l?oe:g(oe,i));for(const{tokens:oe}of re)for(const Le of I(oe,0,[])){const ft=T(Le,u,R);D.push(ft)}let te=`^(?:${D.join("|")})`;return y&&(te+=`(?:${o(u)}$)?`),te+=C?"$":`(?=${o(u)}|$)`,{regexp:new RegExp(te,j),keys:R}}function*I(f,i,u){if(i===f.length)return yield u;const C=f[i];if(C.type==="group"){const S=u.slice();for(const y of I(C.tokens,0,S))yield*I(f,i+1,y)}else u.push(C);yield*I(f,i+1,u)}function T(f,i,u){let C="",S="",y=!0;for(let R=0;R<f.length;R++){const D=f[R];if(D.type==="text"){C+=o(D.value),S+=D.value,y||(y=D.value.includes(i));continue}if(D.type==="param"||D.type==="wildcard"){if(!y&&!S)throw new TypeError(`Missing text after "${D.name}": ${s}`);D.type==="param"?C+=`(${N(i,y?"":S)}+)`:C+="([\\s\\S]+)",u.push(D),S="",y=!1;continue}}return C}function N(f,i){return i.length<2?f.length<2?`[^${o(f+i)}]`:`(?:(?!${o(f)})[^${o(i)}])`:f.length<2?`(?:(?!${o(i)})[^${o(f)}])`:`(?:(?!${o(i)}|${o(f)})[\\s\\S])`}function W(f){return f.tokens.map(function i(u,C,S){if(u.type==="text")return t(u.value);if(u.type==="group")return`{${u.tokens.map(i).join("")}}`;const R=A(u.name)&&$(S[C+1])?u.name:JSON.stringify(u.name);if(u.type==="param")return`:${R}`;if(u.type==="wildcard")return`*${R}`;throw new TypeError(`Unexpected token: ${u}`)}).join("")}function A(f){const[i,...u]=f;return _.test(i)?u.every(C=>c.test(C)):!1}function $(f){return(f==null?void 0:f.type)!=="text"?!0:!c.test(f.value[0])}return J}var yn=bn();const wn={key:0,class:"no-redirect"},kn=["onClick"],xn=z({__name:"index",setup(p){const a=Se(),_=Ce(),{listenerRouteChange:c}=xe(),s=F([]);function e(){s.value=a.matched.filter(r=>{var d,l;return((d=r.meta)==null?void 0:d.title)&&((l=r.meta)==null?void 0:l.breadcrumb)!==!1})}function t(r){return yn.compile(r)(a.params)}function o(r){const{redirect:d,path:l}=r;if(d)return _.push(d);_.push(t(l))}return c(r=>{r.path.startsWith("/redirect/")||e()},!0),(r,d)=>{const l=Tt,g=$t;return v(),M(g,null,{default:x(()=>[(v(!0),V(H,null,ee(n(s),(w,b)=>(v(),M(l,{key:w.path},{default:x(()=>[w.redirect==="noRedirect"||b===n(s).length-1?(v(),V("span",wn,q(w.meta.title),1)):(v(),V("a",{key:1,onClick:he(k=>o(w),["prevent"])},q(w.meta.title),9,kn))]),_:2},1024))),128))]),_:1})}}}),Sn=B(xn,[["__scopeId","data-v-148b927d"]]),Cn={class:"layout-footer"},En=z({__name:"index",setup(p){const a="V3 Admin Vite";return(_,c)=>(v(),V("footer",Cn," MIT © 2021-PRESENT "+q(n(a)),1))}}),$n=B(En,[["__scopeId","data-v-b41fd828"]]),Tn=z({__name:"index",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(p,{emit:a}){const _=p,c=a;function s(){c("toggleClick")}return(e,t)=>{const o=pe;return v(),V("div",{onClick:s},[h(o,{size:20,class:"icon"},{default:x(()=>[_.isActive?(v(),M(n(Mt),{key:0})):(v(),M(n(Lt),{key:1}))]),_:1})])}}}),Mn=B(Tn,[["__scopeId","data-v-1b10002f"]]),Ln=z({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(p){const a=p,{isTop:_}=ae();return(c,s)=>{const e=G("router-link");return v(),V(H,null,[s[2]||(s[2]=Q("s ")),L("div",{class:K(["layout-logo-container",{collapse:a.collapse,"layout-mode-top":n(_)}])},[h(Qe,{name:"layout-logo-fade"},{default:x(()=>[a.collapse?(v(),M(e,{key:"collapse",to:"/"},{default:x(()=>s[0]||(s[0]=[L("span",null,"RB報價單系統",-1)])),_:1})):(v(),M(e,{key:"expand",to:"/"},{default:x(()=>s[1]||(s[1]=[L("span",{class:"font-bold text-white text-2xl"},"RB報價單系統",-1)])),_:1}))]),_:1})],2)],64)}}}),Pe=B(Ln,[["__scopeId","data-v-bd1319c6"]]),In=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin Vite 上线啦",datetime:"两年前",description:"一个免费开源的中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus、Pinia 和 Vite 等主流技术"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"V3 Admin 上线啦",datetime:"三年前",description:"一个中后台管理系统基础解决方案，基于 Vue3、TypeScript、Element Plus 和 Pinia"}],Rn=[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自楚门的世界",description:"如果再也不能见到你，祝你早安、午安和晚安",datetime:"1998-06-05"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自大话西游",description:"如果非要在这份爱上加上一个期限，我希望是一万年",datetime:"1995-02-04"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"来自龙猫",description:"心存善意，定能途遇天使",datetime:"1988-04-16"}],Vn=[{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"未开始",status:"info"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"进行中",status:"primary"},{title:"任务名称",description:"这家伙很懒，什么都没留下",extra:"已超时",status:"danger"}],An={class:"card-header"},Dn={class:"card-title"},Pn={class:"card-time"},On={key:0,class:"card-avatar"},zn=["src"],Fn={class:"card-body"},Bn=z({__name:"List",props:{data:{}},setup(p){const a=p;return(_,c)=>{const s=st,e=It,t=Rt;return a.data.length===0?(v(),M(s,{key:0})):(v(!0),V(H,{key:1},ee(a.data,(o,r)=>(v(),M(t,{key:r,shadow:"never",class:"card-container"},{header:x(()=>[L("div",An,[L("div",null,[L("span",null,[L("span",Dn,q(o.title),1),o.extra?(v(),M(e,{key:0,type:o.status,effect:"plain",size:"small"},{default:x(()=>[Q(q(o.extra),1)]),_:2},1032,["type"])):O("",!0)]),L("div",Pn,q(o.datetime),1)]),o.avatar?(v(),V("div",On,[L("img",{src:o.avatar,width:"34"},null,8,zn)])):O("",!0)])]),default:x(()=>[L("div",Fn,q(o.description??"No Data"),1)]),_:2},1024))),128))}}}),Nn=B(Bn,[["__scopeId","data-v-ef66ab12"]]),Wn={class:"notify"},Un={class:"notify-history"},qe=99,qn=350,Hn=z({__name:"index",setup(p){const a=P(()=>c.value.reduce((e,t)=>e+t.list.length,0)),_=F("通知"),c=F([{name:"通知",type:"primary",list:In},{name:"消息",type:"danger",list:Rn},{name:"待办",type:"warning",list:Vn}]);function s(){ke.success(`跳转到${_.value}历史页面`)}return(e,t)=>{const o=pe,r=me,d=Dt,l=Te,g=Ot,w=At,b=at,k=Vt;return v(),V("div",Wn,[h(k,{placement:"bottom",width:qn,trigger:"click"},{reference:x(()=>[h(d,{value:n(a),max:qe,hidden:n(a)===0},{default:x(()=>[h(r,{effect:"dark",content:"消息通知",placement:"bottom"},{default:x(()=>[h(o,{size:20},{default:x(()=>[h(n(Pt))]),_:1})]),_:1})]),_:1},8,["value","hidden"])]),default:x(()=>[h(w,{modelValue:n(_),"onUpdate:modelValue":t[0]||(t[0]=m=>fe(_)?_.value=m:null),class:"demo-tabs",stretch:""},{default:x(()=>[(v(!0),V(H,null,ee(n(c),(m,E)=>(v(),M(g,{key:E,name:m.name},{label:x(()=>[Q(q(m.name)+" ",1),h(d,{value:m.list.length,max:qe,type:m.type},null,8,["value","type"])]),default:x(()=>[h(l,{height:"400px"},{default:x(()=>[h(Nn,{data:m.list},null,8,["data"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),L("div",Un,[h(b,{link:"",onClick:s},{default:x(()=>[Q(" 查看"+q(n(_))+"历史 ",1)]),_:1})])]),_:1})])}}}),jn=B(Hn,[["__scopeId","data-v-ab2bcb22"]]),He=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Z=(()=>{if(typeof document>"u")return!1;const p=He[0],a={};for(const _ of He)if((_==null?void 0:_[1])in document){for(const[s,e]of _.entries())a[p[s]]=e;return a}return!1})(),je={change:Z.fullscreenchange,error:Z.fullscreenerror};let U={request(p=document.documentElement,a){return new Promise((_,c)=>{const s=()=>{U.off("change",s),_()};U.on("change",s);const e=p[Z.requestFullscreen](a);e instanceof Promise&&e.then(s).catch(c)})},exit(){return new Promise((p,a)=>{if(!U.isFullscreen){p();return}const _=()=>{U.off("change",_),p()};U.on("change",_);const c=document[Z.exitFullscreen]();c instanceof Promise&&c.then(_).catch(a)})},toggle(p,a){return U.isFullscreen?U.exit():U.request(p,a)},onchange(p){U.on("change",p)},onerror(p){U.on("error",p)},on(p,a){const _=je[p];_&&document.addEventListener(_,a,!1)},off(p,a){const _=je[p];_&&document.removeEventListener(_,a,!1)},raw:Z};Object.defineProperties(U,{isFullscreen:{get:()=>!!document[Z.fullscreenElement]},element:{enumerable:!0,get:()=>document[Z.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Z.fullscreenEnabled]}});Z||(U={isEnabled:!1});const Xe="content-large",Ke="content-full",Xn=z({__name:"index",props:{element:{default:"html"},openTips:{default:"全屏"},exitTips:{default:"退出全屏"},content:{type:Boolean,default:!1}},setup(p){const a=p,_=document.body.classList,c=U.isEnabled,s=F(!1),e=P(()=>s.value?a.exitTips:a.openTips),t=P(()=>s.value?"fullscreen-exit":"fullscreen");function o(){const k=document.querySelector(a.element)||void 0;c?U.toggle(k):ke.warning("您的浏览器无法工作")}function r(){s.value=U.isFullscreen,s.value||_.remove(Xe,Ke)}ye(k=>{c&&(U.on("change",r),k(()=>{U.off("change",r)}))});const d=F(!1),l=P(()=>d.value?"内容区复原":"内容区放大"),g=P(()=>d.value?"fullscreen-exit":"fullscreen");function w(){d.value=!d.value,_.toggle(Xe,d.value)}function b(){d.value&&w(),_.add(Ke),o()}return(k,m)=>{const E=G("SvgIcon"),I=me,T=it,N=lt,W=rt;return v(),V("div",null,[a.content?(v(),M(W,{key:1,disabled:n(s)},{dropdown:x(()=>[h(N,null,{default:x(()=>[h(T,{onClick:w},{default:x(()=>[Q(q(n(l)),1)]),_:1}),h(T,{onClick:b},{default:x(()=>m[0]||(m[0]=[Q(" 内容区全屏 ")])),_:1})]),_:1})]),default:x(()=>[h(E,{name:n(g),class:"svg-icon"},null,8,["name"])]),_:1},8,["disabled"])):(v(),M(I,{key:0,effect:"dark",content:n(e),placement:"bottom"},{default:x(()=>[h(E,{name:n(t),onClick:o,class:"svg-icon"},null,8,["name"])]),_:1},8,["content"]))])}}}),ut=B(Xn,[["__scopeId","data-v-d803794b"]]),Kn={class:"search-footer"},Gn={class:"search-footer-item"},Jn={class:"search-footer-item"},Yn={class:"search-footer-item"},Zn={class:"search-footer-total"},Qn=z({__name:"Footer",props:{total:{}},setup(p){const a=p,{isMobile:_}=ue();return(c,s)=>{const e=G("SvgIcon");return v(),V("div",Kn,[n(_)?O("",!0):(v(),V(H,{key:0},[L("span",Gn,[h(e,{name:"keyboard-enter",class:"svg-icon"}),s[0]||(s[0]=L("span",null,"确认",-1))]),L("span",Jn,[h(e,{name:"keyboard-up",class:"svg-icon"}),h(e,{name:"keyboard-down",class:"svg-icon"}),s[1]||(s[1]=L("span",null,"切换",-1))]),L("span",Yn,[h(e,{name:"keyboard-esc",class:"svg-icon"}),s[2]||(s[2]=L("span",null,"关闭",-1))])],64)),L("span",Zn,"共 "+q(a.total)+" 项",1)])}}}),eo=B(Qn,[["__scopeId","data-v-03526223"]]),to=["onMouseenter"],no={class:"result-item-title"},oo=z({__name:"Result",props:yt({data:{},isPressUpOrDown:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(p,{expose:a}){const _=p,c=et(p,"modelValue"),s=wt(),e=F(0);function t(l){const g=l.name===c.value;return{background:g?"var(--el-color-primary)":"",color:g?"#ffffff":""}}function o(l){_.isPressUpOrDown||(c.value=l.name)}function r(){e.value=Number((window.innerHeight*.4).toFixed(1))}function d(l){var k;const g=(k=s==null?void 0:s.proxy)==null?void 0:k.$refs[`resultItemRef${l}`];if(!g)return 0;const b=g[0].offsetTop+128;return b>e.value?b-e.value:0}return tt(()=>{window.addEventListener("resize",r)}),nt(()=>{r()}),Ae(()=>{window.removeEventListener("resize",r)}),a({getScrollTop:d}),(l,g)=>{const w=G("SvgIcon");return v(),V("div",null,[(v(!0),V(H,null,ee(_.data,(b,k)=>{var m,E,I;return v(),V("div",{key:k,ref_for:!0,ref:`resultItemRef${k}`,class:"result-item",style:ot(t(b)),onMouseenter:T=>o(b)},[(m=b.meta)!=null&&m.svgIcon?(v(),M(w,{key:0,name:b.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(E=b.meta)!=null&&E.elIcon?(v(),M(be(b.meta.elIcon),{key:1,class:"el-icon"})):O("",!0),L("span",no,q((I=b.meta)==null?void 0:I.title),1),c.value&&c.value===b.name?(v(),M(w,{key:2,name:"keyboard-enter",class:"svg-icon"})):O("",!0)],44,to)}),128))])}}}),so=B(oo,[["__scopeId","data-v-b54aa557"]]),ao=z({__name:"Modal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(p){const a=et(p,"modelValue"),_=Ce(),{isMobile:c}=ue(),s=F(null),e=F(null),t=F(null),o=F(""),r=kt([]),d=F(void 0),l=F(!1),g=P(()=>c.value?"80vw":"40vw"),w=P(()=>zt(Ve().routes)),b=de(()=>{var i;const A=k(w.value),$=o.value.toLocaleLowerCase().trim();r.value=A.filter(u=>{var C,S;return o.value?(S=(C=u.meta)==null?void 0:C.title)==null?void 0:S.toLocaleLowerCase().includes($):!1});const f=(i=r.value)==null?void 0:i.length;d.value=f>0?r.value[0].name:void 0},500);function k(A,$=[]){return A.forEach(f=>{$.push(f),f.children&&k(f.children,$)}),$}function m(){a.value=!1,setTimeout(()=>{o.value="",r.value=[]},200)}function E(A){var f;if(!t.value)return;const $=t.value.getScrollTop(A);(f=e.value)==null||f.setScrollTop($)}function I(){l.value=!0;const{length:A}=r.value;if(A===0)return;const $=r.value.findIndex(f=>f.name===d.value);if($===0){const f=r.value[A-1].name;d.value===f&&A>1?(d.value=r.value[A-2].name,E(A-2)):(d.value=f,E(A-1))}else d.value=r.value[$-1].name,E($-1)}function T(){l.value=!0;const{length:A}=r.value;if(A===0)return;const $=r.value.map(f=>f.name).lastIndexOf(d.value);if($===A-1){const f=r.value[0].name;d.value===f&&A>1?(d.value=r.value[1].name,E(1)):(d.value=f,E(0))}else d.value=r.value[$+1].name,E($+1)}function N(){var i;const{length:A}=r.value;if(A===0)return;const $=d.value,f=(i=r.value.find(u=>u.name===$))==null?void 0:i.path;if(f&&ge(f))return window.open(f,"_blank","noopener, noreferrer");if(!$)return ke.warning("无法通过搜索进入该菜单，请为对应的路由设置唯一的 Name");try{_.push({name:$})}catch{return ke.warning("该菜单有必填的动态参数，无法通过搜索进入")}m()}function W(){l.value=!1}return(A,$)=>{const f=G("SvgIcon"),i=Bt,u=st,C=Te,S=Ft;return v(),M(S,{modelValue:a.value,"onUpdate:modelValue":$[2]||($[2]=y=>a.value=y),"before-close":m,width:n(g),top:"5vh",class:"search-modal__private","append-to-body":"",onOpened:$[3]||($[3]=y=>{var R;return(R=n(s))==null?void 0:R.focus()}),onClosed:$[4]||($[4]=y=>{var R;return(R=n(s))==null?void 0:R.blur()}),onKeydown:[_e(I,["up"]),_e(T,["down"]),_e(N,["enter"])],onKeyup:_e(W,["up","down"])},{footer:x(()=>[h(eo,{total:n(r).length},null,8,["total"])]),default:x(()=>[h(i,{ref_key:"inputRef",ref:s,modelValue:n(o),"onUpdate:modelValue":$[0]||($[0]=y=>fe(o)?o.value=y:null),placeholder:"搜索菜单",size:"large",clearable:"",onInput:n(b)},{prefix:x(()=>[h(f,{name:"search",class:"svg-icon"})]),_:1},8,["modelValue","onInput"]),n(r).length===0?(v(),M(u,{key:0,description:"暂无搜索结果","image-size":100})):(v(),V(H,{key:1},[$[5]||($[5]=L("p",null,"搜索结果",-1)),h(C,{ref_key:"scrollbarRef",ref:e,"max-height":"40vh",always:""},{default:x(()=>[h(so,{ref_key:"resultRef",ref:t,modelValue:n(d),"onUpdate:modelValue":$[1]||($[1]=y=>fe(d)?d.value=y:null),data:n(r),"is-press-up-or-down":n(l),onClick:N},null,8,["modelValue","data","is-press-up-or-down"])]),_:1},512)],64))]),_:1},8,["modelValue","width"])}}}),ro=z({__name:"index",setup(p){const a=F(!1);function _(){a.value=!0}return(c,s)=>{const e=G("SvgIcon"),t=me;return v(),V("div",null,[h(t,{effect:"dark",content:"搜索菜单",placement:"bottom"},{default:x(()=>[h(e,{name:"search",onClick:_,class:"svg-icon"})]),_:1}),h(ao,{modelValue:n(a),"onUpdate:modelValue":s[0]||(s[0]=o=>fe(a)?a.value=o:null)},null,8,["modelValue"])])}}}),lo=B(ro,[["__scopeId","data-v-3f918a22"]]),io={class:"navigation-bar"},co={class:"right-menu"},uo={class:"right-menu-item user"},fo=z({__name:"index",setup(p){const{isMobile:a}=ue(),{isTop:_}=ae(),c=Ce(),s=ce(),e=_t(),t=Y(),{showNotify:o,showThemeSwitch:r,showScreenfull:d,showSearchMenu:l}=ie(t);function g(){s.toggleSidebar(!1)}function w(){e.logout(),c.push("/login")}return(b,k)=>{const m=Nt,E=it,I=lt,T=rt;return v(),V("div",io,[!n(_)||n(a)?(v(),M(n(Mn),{key:0,"is-active":n(s).sidebar.opened,class:"hamburger",onToggleClick:g},null,8,["is-active"])):O("",!0),!n(_)||n(a)?(v(),M(n(Sn),{key:1,class:"breadcrumb"})):O("",!0),n(_)&&!n(a)?(v(),M(n(ze),{key:2,class:"sidebar"})):O("",!0),L("div",co,[n(l)?(v(),M(lo,{key:0,class:"right-menu-item"})):O("",!0),n(d)?(v(),M(ut,{key:1,class:"right-menu-item"})):O("",!0),n(r)?(v(),M(an,{key:2,class:"right-menu-item"})):O("",!0),n(o)?(v(),M(jn,{key:3,class:"right-menu-item"})):O("",!0),h(T,null,{dropdown:x(()=>[h(I,null,{default:x(()=>[h(E,{divided:"",onClick:w},{default:x(()=>k[0]||(k[0]=[Q(" 退出登录 ")])),_:1})]),_:1})]),default:x(()=>[L("div",uo,[h(m,{icon:n(Wt),size:30},null,8,["icon"]),L("span",null,q(n(e).username),1)])]),_:1})])])}}}),Oe=B(fo,[["__scopeId","data-v-236e7f76"]]),po=z({__name:"index",setup(p){const a=F(!1);return(_,c)=>{const s=pe,e=Ut;return v(),V(H,null,[L("div",{class:"handle-button",onClick:c[0]||(c[0]=t=>a.value=!0)},[h(s,{size:24},{default:x(()=>[h(n(qt))]),_:1})]),h(e,{modelValue:n(a),"onUpdate:modelValue":c[1]||(c[1]=t=>fe(a)?a.value=t:null),size:"300px","with-header":!1},{default:x(()=>[we(_.$slots,"default",{},void 0,!0)]),_:3},8,["modelValue"])],64)}}}),mo=B(po,[["__scopeId","data-v-75b901b7"]]),_o={class:"select-layout-mode"},vo=z({__name:"SelectLayoutMode",setup(p){const{isLeft:a,isTop:_,isLeftTop:c,setLayoutMode:s}=ae();return(e,t)=>{const o=jt,r=Xt,d=Kt,l=Ht,g=me;return v(),V("div",_o,[h(g,{content:"左侧模式"},{default:x(()=>[h(l,{class:K(["layout-mode left",{active:n(a)}]),onClick:t[0]||(t[0]=w=>n(s)(n(le).Left))},{default:x(()=>[h(o),h(l,null,{default:x(()=>[h(r),h(d)]),_:1})]),_:1},8,["class"])]),_:1}),h(g,{content:"顶部模式"},{default:x(()=>[h(l,{class:K(["layout-mode top",{active:n(_)}]),onClick:t[1]||(t[1]=w=>n(s)(n(le).Top))},{default:x(()=>[h(r),h(d)]),_:1},8,["class"])]),_:1}),h(g,{content:"混合模式"},{default:x(()=>[h(l,{class:K(["layout-mode left-top",{active:n(c)}]),onClick:t[2]||(t[2]=w=>n(s)(n(le).LeftTop))},{default:x(()=>[h(r),h(l,null,{default:x(()=>[h(o),h(d)]),_:1})]),_:1},8,["class"])]),_:1})])}}}),ho=B(vo,[["__scopeId","data-v-97e756dd"]]),go={class:"setting-container"},bo={class:"setting-name"},yo=z({__name:"index",setup(p){const{isLeft:a}=ae(),_=Y(),{showTagsView:c,showLogo:s,fixedHeader:e,showFooter:t,showNotify:o,showThemeSwitch:r,showScreenfull:d,showSearchMenu:l,cacheTagsView:g,showWatermark:w,showGreyMode:b,showColorWeakness:k}=ie(_),m={显示标签栏:c,"显示 Logo":s,"固定 Header":e,显示页脚:t,显示消息通知:o,显示切换主题按钮:r,显示全屏按钮:d,显示搜索按钮:l,是否缓存标签栏:g,开启系统水印:w,显示灰色模式:b,显示色弱模式:k};ye(()=>{!a.value&&(e.value=!0)});function E(){vt(),location.reload()}return(I,T)=>{const N=Gt,W=Yt,A=at;return v(),V("div",go,[T[1]||(T[1]=L("h4",null,"布局配置",-1)),h(ho),h(N),T[2]||(T[2]=L("h4",null,"功能配置",-1)),(v(),V(H,null,ee(m,($,f,i)=>L("div",{key:i,class:"setting-item"},[L("span",bo,q(f),1),h(W,{modelValue:$.value,"onUpdate:modelValue":u=>$.value=u,disabled:!n(a)&&f==="固定 Header"},null,8,["modelValue","onUpdate:modelValue","disabled"])])),64)),h(A,{type:"danger",icon:n(Jt),onClick:E},{default:x(()=>T[0]||(T[0]=[Q(" 重 置 ")])),_:1},8,["icon"])])}}}),wo=B(yo,[["__scopeId","data-v-19e104fe"]]);var Ie,Ge;function ko(){if(Ge)return Ie;Ge=1;function p(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function a(s,e){for(var t="",o=0,r=-1,d=0,l,g=0;g<=s.length;++g){if(g<s.length)l=s.charCodeAt(g);else{if(l===47)break;l=47}if(l===47){if(!(r===g-1||d===1))if(r!==g-1&&d===2){if(t.length<2||o!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var w=t.lastIndexOf("/");if(w!==t.length-1){w===-1?(t="",o=0):(t=t.slice(0,w),o=t.length-1-t.lastIndexOf("/")),r=g,d=0;continue}}else if(t.length===2||t.length===1){t="",o=0,r=g,d=0;continue}}e&&(t.length>0?t+="/..":t="..",o=2)}else t.length>0?t+="/"+s.slice(r+1,g):t=s.slice(r+1,g),o=g-r-1;r=g,d=0}else l===46&&d!==-1?++d:d=-1}return t}function _(s,e){var t=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+o:t+s+o:o}var c={resolve:function(){for(var e="",t=!1,o,r=arguments.length-1;r>=-1&&!t;r--){var d;r>=0?d=arguments[r]:(o===void 0&&(o=process.cwd()),d=o),p(d),d.length!==0&&(e=d+"/"+e,t=d.charCodeAt(0)===47)}return e=a(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(p(e),e.length===0)return".";var t=e.charCodeAt(0)===47,o=e.charCodeAt(e.length-1)===47;return e=a(e,!t),e.length===0&&!t&&(e="."),e.length>0&&o&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return p(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var o=arguments[t];p(o),o.length>0&&(e===void 0?e=o:e+="/"+o)}return e===void 0?".":c.normalize(e)},relative:function(e,t){if(p(e),p(t),e===t||(e=c.resolve(e),t=c.resolve(t),e===t))return"";for(var o=1;o<e.length&&e.charCodeAt(o)===47;++o);for(var r=e.length,d=r-o,l=1;l<t.length&&t.charCodeAt(l)===47;++l);for(var g=t.length,w=g-l,b=d<w?d:w,k=-1,m=0;m<=b;++m){if(m===b){if(w>b){if(t.charCodeAt(l+m)===47)return t.slice(l+m+1);if(m===0)return t.slice(l+m)}else d>b&&(e.charCodeAt(o+m)===47?k=m:m===0&&(k=0));break}var E=e.charCodeAt(o+m),I=t.charCodeAt(l+m);if(E!==I)break;E===47&&(k=m)}var T="";for(m=o+k+1;m<=r;++m)(m===r||e.charCodeAt(m)===47)&&(T.length===0?T+="..":T+="/..");return T.length>0?T+t.slice(l+k):(l+=k,t.charCodeAt(l)===47&&++l,t.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(p(e),e.length===0)return".";for(var t=e.charCodeAt(0),o=t===47,r=-1,d=!0,l=e.length-1;l>=1;--l)if(t=e.charCodeAt(l),t===47){if(!d){r=l;break}}else d=!1;return r===-1?o?"/":".":o&&r===1?"//":e.slice(0,r)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');p(e);var o=0,r=-1,d=!0,l;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var g=t.length-1,w=-1;for(l=e.length-1;l>=0;--l){var b=e.charCodeAt(l);if(b===47){if(!d){o=l+1;break}}else w===-1&&(d=!1,w=l+1),g>=0&&(b===t.charCodeAt(g)?--g===-1&&(r=l):(g=-1,r=w))}return o===r?r=w:r===-1&&(r=e.length),e.slice(o,r)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!d){o=l+1;break}}else r===-1&&(d=!1,r=l+1);return r===-1?"":e.slice(o,r)}},extname:function(e){p(e);for(var t=-1,o=0,r=-1,d=!0,l=0,g=e.length-1;g>=0;--g){var w=e.charCodeAt(g);if(w===47){if(!d){o=g+1;break}continue}r===-1&&(d=!1,r=g+1),w===46?t===-1?t=g:l!==1&&(l=1):t!==-1&&(l=-1)}return t===-1||r===-1||l===0||l===1&&t===r-1&&t===o+1?"":e.slice(t,r)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return _("/",e)},parse:function(e){p(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var o=e.charCodeAt(0),r=o===47,d;r?(t.root="/",d=1):d=0;for(var l=-1,g=0,w=-1,b=!0,k=e.length-1,m=0;k>=d;--k){if(o=e.charCodeAt(k),o===47){if(!b){g=k+1;break}continue}w===-1&&(b=!1,w=k+1),o===46?l===-1?l=k:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||w===-1||m===0||m===1&&l===w-1&&l===g+1?w!==-1&&(g===0&&r?t.base=t.name=e.slice(1,w):t.base=t.name=e.slice(g,w)):(g===0&&r?(t.name=e.slice(1,l),t.base=e.slice(1,w)):(t.name=e.slice(g,l),t.base=e.slice(g,w)),t.ext=e.slice(l,w)),g>0?t.dir=e.slice(0,g-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return c.posix=c,Ie=c,Ie}var xo=ko();const dt=Zt(xo),So=["href"],Co=z({__name:"Link",props:{to:{}},setup(p){const a=p;return(_,c)=>{const s=G("router-link");return n(ge)(a.to)?(v(),V("a",{key:0,href:a.to,target:"_blank",rel:"noopener"},[we(_.$slots,"default")],8,So)):(v(),M(s,{key:1,to:a.to},{default:x(()=>[we(_.$slots,"default")]),_:3},8,["to"]))}}}),Eo={class:"title"},$o={key:2,class:"title"},To=z({__name:"Item",props:{item:{},basePath:{default:""}},setup(p){const a=p,_=P(()=>{var o;return(o=a.item.meta)==null?void 0:o.alwaysShow}),c=P(()=>{var o;return((o=a.item.children)==null?void 0:o.filter(r=>{var d;return!((d=r.meta)!=null&&d.hidden)}))??[]}),s=P(()=>c.value.length),e=P(()=>{const o=s.value;switch(!0){case o>1:return null;case o===1:return c.value[0];default:return{...a.item,path:""}}});function t(o){switch(!0){case ge(o):return o;case ge(a.basePath):return a.basePath;default:return dt.resolve(a.basePath,o)}}return(o,r)=>{const d=G("SvgIcon"),l=Qt,g=G("Item",!0),w=en;return!n(_)&&n(e)&&!n(e).children?(v(),V(H,{key:0},[n(e).meta?(v(),M(Co,{key:0,to:t(n(e).path)},{default:x(()=>[h(l,{index:t(n(e).path)},xt({default:x(()=>[n(e).meta.svgIcon?(v(),M(d,{key:0,name:n(e).meta.svgIcon,class:"svg-icon"},null,8,["name"])):n(e).meta.elIcon?(v(),M(be(n(e).meta.elIcon),{key:1,class:"el-icon"})):O("",!0)]),_:2},[n(e).meta.title?{name:"title",fn:x(()=>[L("span",Eo,q(n(e).meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):O("",!0)],64)):(v(),M(w,{key:1,index:t(a.item.path),teleported:""},{title:x(()=>{var b,k,m;return[(b=a.item.meta)!=null&&b.svgIcon?(v(),M(d,{key:0,name:a.item.meta.svgIcon,class:"svg-icon"},null,8,["name"])):(k=a.item.meta)!=null&&k.elIcon?(v(),M(be(a.item.meta.elIcon),{key:1,class:"el-icon"})):O("",!0),(m=a.item.meta)!=null&&m.title?(v(),V("span",$o,q(a.item.meta.title),1)):O("",!0)]}),default:x(()=>[a.item.children?(v(!0),V(H,{key:0},ee(n(c),b=>(v(),M(g,{key:b.path,item:b,"base-path":t(b.path)},null,8,["item","base-path"]))),128)):O("",!0)]),_:1},8,["index"]))}}}),Mo=B(To,[["__scopeId","data-v-c9384764"]]),Lo=z({__name:"index",setup(p){St(A=>({"4c5de5da":n(W),"500c74ce":n(T),"31480d01":n(N),"321b3314":n(I)}));const a=ve("--v3-sidebar-menu-bg-color"),_=ve("--v3-sidebar-menu-text-color"),c=ve("--v3-sidebar-menu-active-text-color"),{isMobile:s}=ue(),{isLeft:e,isTop:t}=ae(),o=Se(),r=ce(),d=Ve(),l=Y(),g=P(()=>o.meta.activeMenu||o.path),w=P(()=>d.routes.filter(A=>{var $;return!(($=A.meta)!=null&&$.hidden)})),b=P(()=>!r.sidebar.opened),k=P(()=>e.value&&l.showLogo),m=P(()=>e.value?a:void 0),E=P(()=>e.value?_:void 0),I=P(()=>e.value?c:void 0),T=P(()=>t.value?"var(--v3-navigationbar-height)":"var(--v3-sidebar-menu-item-height)"),N=P(()=>t.value?"transparent":"var(--v3-sidebar-menu-hover-bg-color)"),W=P(()=>t.value?"0px":"2px");return(A,$)=>{const f=tn,i=Te;return v(),V("div",{class:K({"has-logo":n(k)})},[n(k)?(v(),M(n(Pe),{key:0,collapse:n(b)},null,8,["collapse"])):O("",!0),h(i,{"wrap-class":"scrollbar-wrapper"},{default:x(()=>[h(f,{"default-active":n(g),collapse:n(b)&&!n(t),"background-color":n(m),"text-color":n(E),"active-text-color":n(I),"collapse-transition":!1,mode:n(t)&&!n(s)?"horizontal":"vertical"},{default:x(()=>[(v(!0),V(H,null,ee(n(w),u=>(v(),M(Mo,{key:u.path,item:u,"base-path":u.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1})],2)}}}),ze=B(Lo,[["__scopeId","data-v-f66889c6"]]),Io={class:"scroll-container"},Ro=200,Vo=z({__name:"ScrollPane",props:{tagRefs:{}},setup(p){const a=p,_=Se(),c=Y(),{listenerRouteChange:s}=xe(),e=F(),t=F();let o=0;function r({scrollLeft:b}){o=b}function d({deltaY:b}){b.toString().startsWith("-")?g("left"):g("right")}function l(){const b=t.value.clientWidth,k=e.value.wrapRef.clientWidth,m=b-k-o;return{scrollbarContentRefWidth:b,scrollbarRefWidth:k,lastDistance:m}}function g(b,k=Ro){let m=0;const{scrollbarContentRefWidth:E,scrollbarRefWidth:I,lastDistance:T}=l();I>E||(b==="left"?m=Math.max(0,o-k):m=Math.min(o+k,o+T),e.value.setScrollLeft(m))}function w(){const b=a.tagRefs;for(let k=0;k<b.length;k++)if(_.path===b[k].$props.to.path){const m=b[k].$el,E=m.offsetWidth,I=m.offsetLeft,{scrollbarRefWidth:T}=l();if(I<o){const W=o-I;g("left",W);return}const N=T+o-E;if(I>N){const W=I-N;g("right",W);return}}}return s(()=>{Ct(w)}),(b,k)=>{const m=pe,E=me,I=Te;return v(),V("div",Io,[h(E,{content:"向左滚动标签（超出最大宽度可点击）"},{default:x(()=>[h(m,{class:"arrow left",onClick:k[0]||(k[0]=T=>g("left"))},{default:x(()=>[h(n(nn))]),_:1})]),_:1}),h(I,{ref_key:"scrollbarRef",ref:e,onWheelPassive:d,onScroll:r},{default:x(()=>[L("div",{ref_key:"scrollbarContentRef",ref:t,class:"scrollbar-content"},[we(b.$slots,"default",{},void 0,!0)],512)]),_:3},512),h(E,{content:"向右滚动标签（超出最大宽度可点击）"},{default:x(()=>[h(m,{class:"arrow right",onClick:k[1]||(k[1]=T=>g("right"))},{default:x(()=>[h(n(on))]),_:1})]),_:1}),n(c).showScreenfull?(v(),M(ut,{key:0,content:!0,class:"screenfull"})):O("",!0)])}}}),Ao=B(Vo,[["__scopeId","data-v-33b7505c"]]),Do={class:"tags-view-container"},Po=z({__name:"index",setup(p){const a=Ce(),_=Se(),c=Ye(),s=Ve(),{listenerRouteChange:e}=xe(),t=F([]),o=F(!1),r=F(0),d=F(0),l=F({});let g=[];function w(i){return i.path===_.path}function b(i){var u;return(u=i.meta)==null?void 0:u.affix}function k(i,u="/"){const C=[];return i.forEach(S=>{if(b(S)){const y=dt.resolve(u,S.path);C.push({fullPath:y,path:y,name:S.name,meta:{...S.meta}})}if(S.children){const y=k(S.children,S.path);C.push(...y)}}),C}function m(){g=k(s.routes);for(const i of g)i.name&&c.addVisitedView(i)}function E(i){i.name&&(c.addVisitedView(i),c.addCachedView(i))}function I(i){c.delCachedView(i),a.replace({path:`/redirect${i.path}`,query:i.query})}function T(i){c.delVisitedView(i),c.delCachedView(i),w(i)&&A(c.visitedViews,i)}function N(){const i=l.value.fullPath;i!==_.path&&i!==void 0&&a.push(i),c.delOthersVisitedViews(l.value),c.delOthersCachedViews(l.value)}function W(i){c.delAllVisitedViews(),c.delAllCachedViews(),!g.some(u=>u.path===_.path)&&A(c.visitedViews,i)}function A(i,u){const C=i.slice(-1)[0],S=C==null?void 0:C.fullPath;S!==void 0?a.push(S):u.name==="Dashboard"?a.push({path:`/redirect${u.path}`,query:u.query}):a.push("/")}function $(i,u){const y=document.body.offsetWidth-100,R=u.clientX+10;d.value=R>y?y:R,r.value=u.clientY,o.value=!0,l.value=i}function f(){o.value=!1}return Ze(o,i=>{i?document.body.addEventListener("click",f):document.body.removeEventListener("click",f)}),m(),e(i=>{E(i)},!0),(i,u)=>{const C=pe,S=G("router-link");return v(),V("div",Do,[h(Ao,{class:"tags-view-wrapper","tag-refs":n(t)},{default:x(()=>[(v(!0),V(H,null,ee(n(c).visitedViews,y=>(v(),M(S,{key:y.path,ref_for:!0,ref_key:"tagRefs",ref:t,class:K([{active:w(y)},"tags-view-item"]),to:{path:y.path,query:y.query},onMouseup:he(R=>!b(y)&&T(y),["middle"]),onContextmenu:he(R=>$(y,R),["prevent"])},{default:x(()=>{var R;return[Q(q((R=y.meta)==null?void 0:R.title)+" ",1),b(y)?O("",!0):(v(),M(C,{key:0,size:12,onClick:he(D=>T(y),["prevent","stop"])},{default:x(()=>[h(n(sn))]),_:2},1032,["onClick"]))]}),_:2},1032,["class","to","onMouseup","onContextmenu"]))),128))]),_:1},8,["tag-refs"]),Ee(L("ul",{class:"contextmenu",style:ot({left:`${n(d)}px`,top:`${n(r)}px`})},[L("li",{onClick:u[0]||(u[0]=y=>I(n(l)))}," 刷新 "),b(n(l))?O("",!0):(v(),V("li",{key:0,onClick:u[1]||(u[1]=y=>T(n(l)))}," 关闭 ")),L("li",{onClick:N}," 关闭其它 "),L("li",{onClick:u[2]||(u[2]=y=>W(n(l)))}," 关闭所有 ")],4),[[$e,n(o)]])])}}}),Fe=B(Po,[["__scopeId","data-v-c63613aa"]]),Oo=992;function zo(){const p=ce(),{listenerRouteChange:a}=xe(),_=()=>document.body.getBoundingClientRect().width-1<Oo,c=()=>{if(!document.hidden){const s=_();p.toggleDevice(s?se.Mobile:se.Desktop),s&&p.closeSidebar(!0)}};a(()=>{p.device===se.Mobile&&p.sidebar.opened&&p.closeSidebar(!1)}),tt(()=>{window.addEventListener("resize",c)}),nt(()=>{_()&&(p.toggleDevice(se.Mobile),p.closeSidebar(!0))}),Ae(()=>{window.removeEventListener("resize",c)})}const Fo=z({__name:"LeftMode",setup(p){const{isMobile:a}=ue(),{isLeft:_}=ae(),c=ce(),s=Y(),{showTagsView:e,fixedHeader:t}=ie(s),o=P(()=>({hideSidebar:!c.sidebar.opened,openSidebar:c.sidebar.opened,withoutAnimation:c.sidebar.withoutAnimation,mobile:a.value,noLeft:!_.value}));function r(){c.closeSidebar(!1)}return(d,l)=>(v(),V("div",{class:K([n(o),"app-wrapper"])},[n(o).mobile&&n(o).openSidebar?(v(),V("div",{key:0,class:"drawer-bg",onClick:r})):O("",!0),h(n(ze),{class:"sidebar-container"}),L("div",{class:K([{hasTagsView:n(e)},"main-container"])},[L("div",{class:K([{"fixed-header":n(t)},"layout-header"])},[h(n(Oe)),Ee(h(n(Fe),null,null,512),[[$e,n(e)]])],2),h(n(De),{class:"app-main"})],2)],2))}}),Bo=B(Fo,[["__scopeId","data-v-5b4077ad"]]),No={class:"fixed-header layout-header"},Wo={class:"content"},Uo=z({__name:"LeftTopMode",setup(p){const a=ce(),_=Y(),{showTagsView:c,showLogo:s}=ie(_),e=P(()=>({hideSidebar:!a.sidebar.opened}));return(t,o)=>(v(),V("div",{class:K([n(e),"app-wrapper"])},[L("div",No,[n(s)?(v(),M(n(Pe),{key:0,collapse:!1,class:"logo"})):O("",!0),L("div",Wo,[h(n(Oe)),Ee(h(n(Fe),null,null,512),[[$e,n(c)]])])]),L("div",{class:K([{hasTagsView:n(c)},"main-container"])},[h(n(ze),{class:"sidebar-container"}),h(n(De),{class:"app-main"})],2)],2))}}),qo=B(Uo,[["__scopeId","data-v-f307bb44"]]),Ho={class:"app-wrapper"},jo={class:"fixed-header layout-header"},Xo={class:"content"},Ko=z({__name:"TopMode",setup(p){const a=Y(),{showTagsView:_,showLogo:c}=ie(a);return(s,e)=>(v(),V("div",Ho,[L("div",jo,[L("div",Xo,[n(c)?(v(),M(n(Pe),{key:0,collapse:!1,class:"logo"})):O("",!0),h(n(Oe),{class:"navigation-bar"})]),Ee(h(n(Fe),null,null,512),[[$e,n(_)]])]),L("div",{class:K([{hasTagsView:n(_)},"main-container"])},[h(n(De),{class:"app-main"})],2)]))}}),Go=B(Ko,[["__scopeId","data-v-9a9151d9"]]),Re="--v3-tagsview-height",ss=z({__name:"index",setup(p){zo();const{setWatermark:a,clearWatermark:_}=_n(),{isMobile:c}=ue(),{isLeft:s,isTop:e,isLeftTop:t}=ae(),o=Y(),{showSettings:r,showTagsView:d,showWatermark:l}=ie(o),g=ve(Re);return ye(()=>{d.value?Ne(Re,g):Ne(Re,"0px")}),ye(()=>{l.value?a("V3 Admin Vite"):_()}),(w,b)=>(v(),V("div",null,[n(s)||n(c)?(v(),M(Bo,{key:0})):n(e)?(v(),M(Go,{key:1})):n(t)?(v(),M(qo,{key:2})):O("",!0),n(r)?(v(),M(n(mo),{key:3},{default:x(()=>[h(n(wo))]),_:1})):O("",!0)]))}});export{ss as default};
